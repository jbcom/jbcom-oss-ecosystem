{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:recommended"
  ],
  "timezone": "America/New_York",
  "schedule": [
    "before 5am on Monday"
  ],
  "labels": [
    "dependencies"
  ],
  "packageRules": [
    {
      "description": "Docker base images - weekly updates",
      "matchDatasources": ["docker"],
      "matchUpdateTypes": ["major", "minor", "patch"],
      "schedule": ["before 5am on Monday"],
      "automerge": false,
      "labels": ["dependencies", "docker"]
    },
    {
      "description": "Python packages - daily updates",
      "matchManagers": ["pip_requirements", "pip_setup", "pipenv", "poetry"],
      "schedule": ["before 5am every weekday"],
      "automerge": false
    },
    {
      "description": "GitHub Actions - daily updates",
      "matchManagers": ["github-actions"],
      "schedule": ["before 5am every weekday"],
      "automerge": false
    },
    {
      "description": "Go modules in Dockerfile",
      "matchManagers": ["dockerfile"],
      "matchPackagePatterns": ["^github.com/"],
      "schedule": ["before 5am on Monday"],
      "automerge": false,
      "labels": ["dependencies", "go", "docker"]
    }
  ],
  "docker": {
    "enabled": true,
    "major": {
      "enabled": true
    },
    "minor": {
      "enabled": true
    },
    "patch": {
      "enabled": true
    }
  },
  "regexManagers": [
    {
      "description": "Update process-compose version in Dockerfile",
      "fileMatch": ["\\.cursor/Dockerfile$"],
      "matchStrings": [
        "ENV PC_VERSION=\"(?<currentValue>v[0-9]+\\.[0-9]+\\.[0-9]+)\""
      ],
      "datasourceTemplate": "github-releases",
      "depNameTemplate": "F1bonacc1/process-compose",
      "versioningTemplate": "semver"
    },
    {
      "description": "Update Playwright version in Dockerfile",
      "fileMatch": ["\\.cursor/Dockerfile$"],
      "matchStrings": [
        "playwright@(?<currentValue>[0-9]+\\.[0-9]+\\.[0-9]+)"
      ],
      "datasourceTemplate": "npm",
      "depNameTemplate": "playwright",
      "versioningTemplate": "semver"
    },
    {
      "description": "Update pnpm version in Dockerfile",
      "fileMatch": ["\\.cursor/Dockerfile$"],
      "matchStrings": [
        "pnpm@(?<currentValue>[0-9]+\\.[0-9]+\\.[0-9]+)"
      ],
      "datasourceTemplate": "npm",
      "depNameTemplate": "pnpm",
      "versioningTemplate": "semver"
    },
    {
      "description": "Update Node.js global packages in Dockerfile",
      "fileMatch": ["\\.cursor/Dockerfile$"],
      "matchStrings": [
        "pnpm install -g[\\s\\S]*?(?<depName>@[^\\s]+|[a-z][a-z0-9-]*)"
      ],
      "datasourceTemplate": "npm",
      "versioningTemplate": "semver"
    },
    {
      "description": "Update Go tool versions in Dockerfile",
      "fileMatch": ["\\.cursor/Dockerfile$"],
      "matchStrings": [
        "go install (?<depName>github\\.com/[^@]+)@(?<currentValue>v?[0-9]+\\.[0-9]+\\.[0-9]+)"
      ],
      "datasourceTemplate": "go",
      "versioningTemplate": "semver"
    },
    {
      "description": "Update mise tool versions in .mise.toml",
      "fileMatch": ["^\\.mise\\.toml$"],
      "matchStrings": [
        "just\\s*=\\s*\"(?<currentValue>[^\"]+)\""
      ],
      "datasourceTemplate": "github-releases",
      "depNameTemplate": "casey/just",
      "extractVersionTemplate": "^(?<version>.*)$"
    },
    {
      "description": "Update Python version in .mise.toml",
      "fileMatch": ["^\\.mise\\.toml$"],
      "matchStrings": [
        "python\\s*=\\s*\"(?<currentValue>[^\"]+)\""
      ],
      "datasourceTemplate": "github-releases",
      "depNameTemplate": "python/cpython",
      "versioningTemplate": "semver"
    },
    {
      "description": "Update Node version in .mise.toml",
      "fileMatch": ["^\\.mise\\.toml$"],
      "matchStrings": [
        "node\\s*=\\s*\"(?<currentValue>[^\"]+)\""
      ],
      "datasourceTemplate": "github-releases",
      "depNameTemplate": "nodejs/node",
      "versioningTemplate": "node"
    },
    {
      "description": "Update Go version in .mise.toml",
      "fileMatch": ["^\\.mise\\.toml$"],
      "matchStrings": [
        "go\\s*=\\s*\"(?<currentValue>[^\"]+)\""
      ],
      "datasourceTemplate": "github-releases",
      "depNameTemplate": "golang/go",
      "extractVersionTemplate": "^go(?<version>.*)$"
    }
  ]
}
